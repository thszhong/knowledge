
网络的核心关键点是

- 通过ISO7层和TCP5层，对于网络通信有整体的感知
- 对于每一层的常见协议、流程架构有细节的学习

# ISO 7层
ISO7层架构的精髓在于设计者将复杂的网络实现进行抽象分层
- 每一层都可以独立演进发展，比如家里网络从普通通信线缆升级到光纤后家里设备依然能工作。
- 上层依赖下层

| 层 | 作用 | 常见协议 | 关键字 | 软硬件 | 
| - | - | - | - | - |
| 应用层 | 应用层协议 | HTTP、FTP、POP3 | URL、邮箱地址 | 程序 |
| 表示层 | 数据编解码、加解密、压缩解压缩| JPEG、UTF8 | | |
| 会话层 | 会话创建、管理、维护 | | 会话、端口 | |
| 传输层 | 数据分段、重组，端到端的服务 | TCP、UDP、ICMP | 段Segment |  | 
| 网络层 | 负责将数据从源头送到目的、寻址、路由 | IP | 报Packet、IP地址、ARP | 路由器 |
| 数据链路层 | 相邻节点之间的通信、差错检测  | | 帧Frame、MAC地址 | 交换机、网卡 |
| 物理层 | 在硬件上进行二进制的传输 | 机械和电气规范 | 比特bit | 光纤、电缆、HUB |

数据在网络中的传输就是一个从会话层开始的套娃，
![image](https://user-images.githubusercontent.com/3771835/200164600-9b89fba1-8ead-4226-b9d2-f7bcca3e5262.png)

# 数据链路层

仅仅负责点对点直接的通信，相当于快递速运里面的航空速运，只负责从深圳机场运输到北京机场。
场景的局域网，用一个交换机即可组装。

核心关键点：
- 数据帧怎么封装：套娃、编码
- 数据帧怎么传输：广播、PPP
- 数据传输可靠性保障机制：校验码 + 传输控制机制（等待确认等）
- ![image](https://user-images.githubusercontent.com/3771835/200169696-0ca858df-8469-418b-95fa-74106c1e70fb.png)


# 网络层

网络层是网络通信实现大范围通信的核心，但它不提供可靠服务。

关键核心点：
- 网络图如何定义：节点->IP、广域网和局域网的分层
- 边上传输的包怎么定义和传输：数据包格式
- 如何在网络中高性能获得源地址-目的地址的最短路径：路由表、路由策略、ARP
- 对上层（传输层）提供的协议

## ARP

IP地址与MAC地址的反映射。
每个主机会有所在局域网的所有主机、路由器的IP->MAC的映射。因此在局域网内传输数据是在数据链路层即可完成的。相当于解决了日常出行的最后500米交通问题。
直接交付、间接交付

## IP结构

网络号、子网号、主机号

## 数据包

![image](https://user-images.githubusercontent.com/3771835/200178653-71318be3-02a8-4f4e-b2de-50223f992ad1.png)

## 路由表和路由策略

路由表的内容：存了目的网络与下一条的映射
路由表的更新机制：交换。



